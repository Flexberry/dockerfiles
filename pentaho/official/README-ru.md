# Описание
Основан на образе [openjdk:8-slim](https://hub.docker.com/_/openjdk).

## Функуцонал

- Для корректной поддержки экспорта кириллических отчетов в PDF установлены [шрифты Microsoft TrueType](https://packages.debian.org/ru/sid/ttf-mscorefonts-installer)
- Удалены файлы для создания данных по-умолчанию в запускаемом Pentaho Server
- Удалено задание периодической проверки наличия обновлений
- Убрано выпадающее меню с тестовыми пользователями с экрана логина в Pentaho Server
- Образ позволяет в качестве административной баз данных использовать как встроенную базу HSQLDB, так и при использовани в production внешнюю реляционную базу (postgresql).
- *TODO:* Добавить поддержку баз Oracle, MySQL, ClickHouse, ...


## Запуск

Тип административной базы задается переменной DB_ADMIN среды.
Если переменная не задана используется встроенная база HSQLDB.

Если переменная имеет значение `postgresql` в качестве административной базы используется база данных `Postgres`.

Параметры подключения к PostgreSQL задаются переменными среды:
- DB_HOST - адрес сервера с PostgreSQL
- DB_PORT - порт сервера с PostgreSQL
- DB_ADMIN_USER - имя пользователя с правами администратора
- DB_ADMIN_PASS - пароль пользователя с правами администратора
- JCR_PASS - пароль для пользователя для доступа к БД Jackrabbit-репозитория
- HIBERNATE_PASS - пароль для пользователя для доступа к БД Hibernate
- QUARTZ_PASS - пароль для пользователя для доступа к БД Quartz

По умолчнию Pentaho server доступен на порту 8080.
